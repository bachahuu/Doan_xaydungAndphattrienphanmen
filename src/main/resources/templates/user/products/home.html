<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
    <!-- CONTENT ONLY (no header, no footer) -->
    <div th:fragment="content">
        <!-- Giới thiệu -->
        <div class="main" id="Home">
            <div class="men_text">
                <h1>The Fresh and<br>Organic<span>Fruits</span></h1>
            </div>

            <div class="main_img">
                <img src="/images/—Pngtree—summer beach_9047594.png" alt="">
            </div>
        </div>

        <p class="intro-text">
            Xin chào! Chúng tôi hân hạnh giới thiệu đến quý khách hàng những loại trái cây nhập khẩu tươi ngon, chất lượng cao
            từ khắp nơi trên thế giới. Với tiêu chí mang đến cho khách hàng những sản phẩm an toàn và bổ dưỡng, chúng tôi đã
            lựa chọn kỹ càng các đối tác uy tín từ những quốc gia có nền nông nghiệp tiên tiến.
        </p>

        <div class="main_btn">
            <a href="/menu">Order Now</a>
            <i class="fa-solid fa-angle-right"></i>
        </div>

        <!-- About -->
        <div class="about" id="About">
            <div class="about_main">
                <div class="img">
                    <img src="/images/—Pngtree—3d illustration mango fruit splash_15290716.png" alt="">
                </div>

                <div class="about_text">
                    <h1><span>About</span>Us</h1>
                    <h3>Why Choose Us?</h3>
                    <p>
                        Tại đây, sứ mệnh của chúng tôi là mang đến cho khách hàng những trải nghiệm tuyệt vời về hương vị 
                        và dinh dưỡng qua những loại trái cây nhập khẩu tươi ngon và chất lượng cao nhất. Chúng tôi không chỉ
                        đơn thuần là nhà cung cấp trái cây, mà còn là người bạn đồng hành trong hành trình chăm sóc sức khỏe
                        và nâng cao chất lượng cuộc sống của bạn. Chúng tôi tin rằng với những nỗ lực không ngừng, chúng tôi
                        sẽ là lựa chọn hàng đầu cho những ai yêu thích và trân trọng giá trị của trái cây nhập khẩu.
                    </p>
                </div>
            </div>

            <div class="main_btn">
                <a href="/menu">Order Now</a>
                <i class="fa-solid fa-angle-right"></i>
            </div>
        </div>

        <!-- Sản phẩm -->
        <div class="menu" id="Menu">
            <h1>Our<span>Menu</span></h1>
            <div class="slider-container">
                <button class="slider-arrow left" id="sliderLeft" onclick="slideMenu(-1)"><i class="fa-solid fa-chevron-left"></i></button>
                <div class="slider-track" id="menuSlider">
                    <div th:each="sp : ${sanPhamList}" class="menu_card">
                        <div class="menu_img">
                            <img th:src="@{'/images/' + ${sp.hinhAnh}}" th:alt="${sp.tenSanPham}" />
                            <div th:if="${sp.khuyenMai != null and sp.khuyenMai.giaTri != null}" class="badge-discount">SALE</div>
                            <div th:if="${sp.soLuongTon != null and sp.soLuongTon == 0}" class="badge-soldout">HẾT HÀNG</div>
                        </div>
                        <div class="menu_info">
                            <h2 th:text="${sp.tenSanPham}"></h2>
                            <p th:text="${sp.moTa}"></p>
                            <h3 th:text="${#numbers.formatInteger(sp.gia, 1, 'COMMA') + ' VNĐ/KG'}"></h3>
                            <a th:href="@{'/product/' + ${sp.id}}" class="menu_btn">Xem chi tiết</a>
                        </div>
                    </div>
                </div>
                <button class="slider-arrow right" id="sliderRight" onclick="slideMenu(1)"><i class="fa-solid fa-chevron-right"></i></button>
            </div>
            <script>
            function slideMenu(direction) {
                const track = document.getElementById('menuSlider');
                const card = track.querySelector('.menu_card');
                if (!card) return;
                const cardWidth = card.offsetWidth + 15;
                const container = track.parentElement;
                const maxScroll = track.scrollWidth - container.offsetWidth;
                let newScroll = track.scrollLeft + direction * cardWidth;
                if (newScroll < 0) newScroll = 0;
                if (newScroll > maxScroll) newScroll = maxScroll;
                track.scrollTo({ left: newScroll, behavior: 'smooth' });
            }
            // Optional: hide left/right arrow if can't scroll
            function updateArrows() {
                const track = document.getElementById('menuSlider');
                const leftBtn = document.getElementById('sliderLeft');
                const rightBtn = document.getElementById('sliderRight');
                if (!track) return;
                leftBtn.disabled = track.scrollLeft <= 0;
                rightBtn.disabled = track.scrollLeft + track.offsetWidth >= track.scrollWidth - 1;
                leftBtn.classList.toggle('disabled', leftBtn.disabled);
                rightBtn.classList.toggle('disabled', rightBtn.disabled);
            }
            document.addEventListener('DOMContentLoaded', function() {
                const track = document.getElementById('menuSlider');
                if (track) {
                    track.addEventListener('scroll', updateArrows);
                    window.addEventListener('resize', updateArrows);
                    updateArrows();
                }
            });
            </script>
            <style>
                .badge-discount { position: absolute; left: 8px; top: 8px; background:#e74c3c; color:#fff; padding:6px 10px; border-radius:6px; font-weight:800; z-index:2; }
                .badge-soldout { position: absolute; right: 8px; top: 8px; background:#6c757d; color:#fff; padding:6px 10px; border-radius:6px; font-weight:700; z-index:2; }
                .menu_img { position:relative; }
            </style>
        </div>
    </div>
</body>
</html>
